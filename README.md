# 大判焼外交部ジェネレーター ver.3.0
（通常モード / ASCIIアートモード / 多言語対応版）

大判焼／今川焼／回転焼（御座候？はぁ？）の骨肉の争いなどに関するパロディ画像、  
および **ASCIIアート（AA）** を背景上に合成した画像を生成できる Streamlit アプリです。  
ver3.0 では **多言語対応・水印機能・フォント自動切替** などを大幅強化しました。

> ⚠ **本アプリは完全に娯楽目的のパロディ生成ツールです。**  
> 実在の団体・民族・人物・国家とは一切関係ありません。  
> 生成画像の右上に「この画像はパロディです / This image is a parody.」等の  
> 自動水印（多言語）が描画されます。

---

## 🈳 主な変更点（ver2.4 → ver3.0）

- 🌐 **多言語対応**
  - 日本語 / 英語 に加え、以下の言語 JSON を追加  
    - 簡体字中国語（zh_cn） / 繁体字中国語（zh_tw）  
    - 韓国語、タガログ語、ベトナム語  
    - フランス語、スペイン語、ドイツ語、イタリア語、ポルトガル語  
    - ロシア語、アラビア語、ペルシャ語、ヘブライ語  
    - ヒンディー語、タミル語、マレー語、モンゴル語  
    - タイ語、ヒエログリフ風 UI（egy）など  
  - `languages/<lang>.json` を差し替えることでテキスト全体をローカライズ可能

- 🛡 **自動パロディ水印**
  - 画像右上に「この画像はパロディです」「This image is a parody.」等の文言を  
    **フッター文字サイズの約 1/2** で自動描画（使用言語に追従）

- 🔤 **フォント自動切り替え**
  - 言語別に Noto 系フォントへ自動切替（Devanagari / Tamil / Thai / Arabic / Hebrew 等）
  - 正常に描画できないスクリプトを極力ゼロに

- 🗣 **注意書き・ASCIIリンクも多言語化**
  - 「注意事項・禁止事項」「免責事項」「AA はここからどうぞ」などの  
    初期表示テキストを JSON から多言語表示

---

## ■ 1. 通常モード（ポスター調画像生成）

- 背景画像の選択
- 本文テキスト入力（多言語対応）
- 強調語（黄色ハイライト）の指定
- フッター（署名・日付）
- フォント選択（日本語／CJK／欧文など）
- テキストの自動レイアウト最適化
- 右上に自動パロディ水印（多言語）

---

## ■ 2. ASCIIアートモード（AA合成）

- MS PGothic 互換フォントで AA を自然に描画
- JSON ベースの安全な文字列処理で **文字化けゼロ**
- 左寄せ表示（AA レイアウト優先）
- AA の見栄えを優先したフォントサイズ調整
- 通常モードのハイライト機能は自動無効化
- 多言語 UI でも AA 自体はそのまま描画可能

---

## ■ 3. 共通機能（ver3.0）

- HTML5 Canvas による画像生成
- JPEG 保存（画質 約 90%）
- X 投稿リンクボタン（画像は自動投稿されないので手動添付）
- NG ワードフィルタ（`.streamlit/ng_words.txt`）
- カスタムフォントの Base64 埋め込み
- `session_state` による入力内容保持
- スマホ向け最大幅 1300px 最適化
- 多言語 JSON（`languages/*.json`）による完全なテキスト外出し

---

## 🚀 起動方法

```bash
pip install streamlit
streamlit run streamlit_app.py
